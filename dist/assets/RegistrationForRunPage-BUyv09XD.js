import{u as x,j as e,e as k,f as h,g as v,s as f,r as b,i as L,q as S,B as w,t as N,H as C}from"./index-DtHtMXPn.js";import{R as T,S as R}from"./Statements-DWY6vkFy.js";const D="_SelectInput__label_1hoo1_1",F="_SelectInput__input_1hoo1_16",j={SelectInput__label:D,SelectInput__input:F},G={PL:{language:"PL",size:"Rozmiar koszulki:",tshirtTypeFemale:"Damska",tshirtTypeMale:"Męska",tshirtTypeChild:"Dziecięca",button:"Zapisz się na bieg",paymentMethod:"Wybierz metodę płatności",paymentMethodCard:"Karta płatnicza",paymentMethodTransfer:"Przelew tradycyjny",paymentMethodBLIK:"BLIK",paymentMethodGooglePay:"Google Pay",shirtSizes:{"rozmiar 36 (S)":"rozmiar 36 (S)","rozmiar 38 (M)":"rozmiar 38 (M)","rozmiar 40 (L)":"rozmiar 40 (L)","rozmiar 42 (XL)":"rozmiar 42 (XL)","rozmiar S":"rozmiar S","rozmiar M":"rozmiar M","rozmiar L":"rozmiar L","rozmiar XL":"rozmiar XL",104:"104",116:"116"}},EN:{language:"EN",size:"T-shirt size:",tshirtTypeFemale:"Female",tshirtTypeMale:"Male",tshirtTypeChild:"Child",button:"Sign up for the run",paymentMethod:"Choose payment method",paymentMethodCard:"Credit Card",paymentMethodTransfer:"Bank Transfer",paymentMethodBLIK:"BLIK",paymentMethodGooglePay:"Google Pay",shirtSizes:{"rozmiar 36 (S)":"size 36 (S)","rozmiar 38 (M)":"size 38 (M)","rozmiar 40 (L)":"size 40 (L)","rozmiar 42 (XL)":"size 42 (XL)","rozmiar S":"size S","rozmiar M":"size M","rozmiar L":"size L","rozmiar XL":"size XL",104:"104",116:"116"}}},I={Damska:[{value:"rozmiar 36 (S)",label:"rozmiar 36 (S)"},{value:"rozmiar 38 (M)",label:"rozmiar 38 (M)"},{value:"rozmiar 40 (L)",label:"rozmiar 40 (L)"},{value:"rozmiar 42 (XL)",label:"rozmiar 42 (XL)"}],Męska:[{value:"rozmiar S",label:"rozmiar S"},{value:"rozmiar M",label:"rozmiar M"},{value:"rozmiar L",label:"rozmiar L"},{value:"rozmiar XL",label:"rozmiar XL"}],Dziecięca:[{value:"104",label:"104"},{value:"116",label:"116"}]},P=({label:n,id:o,name:r,formik:l,shirtGender:g})=>{const{language:p}=x(),c=G[p],u=c.shirtSizes,z=I[g].map(i=>({value:i.value,label:u[i.label]||i.label}));return e.jsxs("label",{className:j.SelectInput__label,htmlFor:o,children:[n,e.jsx("select",{id:o,name:r,className:j.SelectInput__input,onChange:l.handleChange,onBlur:l.handleBlur,value:l.values[r],children:z.map(i=>e.jsx("option",{value:i.value,children:c.shirtSizes[i.label]||i.label},i.value))})]})},B="_registration_13j16_1",X="_registration__containerMain_13j16_16",$="_registration__container_13j16_16",E="_registration__windows_13j16_37",q="_registration__sectionTitle_13j16_48",K="_registration__form_13j16_62",H="_registration__titleContainer_13j16_79",V="_registration__sizeList_13j16_82",O="_registration__radioList_13j16_89",A="_registration__label_13j16_98",U="_registration__input_13j16_112",Z="_registration__instructions_13j16_133",W="_registration__instructionsText_13j16_143",J="_registration__instructionsTextHighlighted_13j16_151",Q="_formikMessage_13j16_161",Y="_error_13j16_170",ee="_buttonContainer_13j16_178",s={registration:B,registration__containerMain:X,registration__container:$,registration__windows:E,registration__sectionTitle:q,registration__form:K,registration__titleContainer:H,registration__sizeList:V,registration__radioList:O,registration__label:A,registration__input:U,registration__instructions:Z,registration__instructionsText:W,registration__instructionsTextHighlighted:J,formikMessage:Q,error:Y,buttonContainer:ee},te={PL:{shirtSizes:"Rozmiar koszulki",register:"Zarejestruj się",name:"Imię:",lastName:"Nazwisko:",number:"Numer telefonu:",email:"Adres e-mail:",shirt:"Rozmiar koszulki:",tshirtTypeFemale:"Damska",tshirtTypeMale:"Męska",tshirtTypeChild:"Dziecięca",statementPayment:"Klikając „Zapisz się na bieg”, wyrażasz zgodę na przekierowanie do systemu płatności Przelewy24.",button:"Zapisz się na bieg",instructionsCost:"Koszt zapisu na bieg wynosi:",cost1:"30 zł",costAdult:" za osobę dorosłą.",cost2:"20 zł",costChild:" za dziecko (płatność tylko za dzieci, które będą pobierać pakiet startowy. Koszulki dziecięce będą dostępne w rozmiarach 104 i 116).",costGeneral:"Opłata zawiera cenę pakietu startowego, w którego skład wchodzą: koszulka z logo Fundacji, numer startowy, woda.",shirtGenderMap:{Damska:"Damska",Męska:"Męska",Dziecięca:"Dziecięca"}},EN:{shirtSizes:"Shirt Size",register:"Register",name:"Name:",lastName:"Last name:",number:"Phone number:",email:"E-mail address:",shirt:"T-shirt size:",tshirtTypeFemale:"Female",tshirtTypeMale:"Male",tshirtTypeChild:"Child",statementPayment:'By clicking "Sign up for the run", you consent to being redirected to the Przelewy24 payment system.',button:"Sign up for run",instructionsCost:"The cost of signing up for the run is:",cost1:"30 PLN",costAdult:" per adult participant.",cost2:"20 PLN",costChild:" per children (payment is only for children who will be receiving a starter pack. Children's shirts will be available in sizes 104 and 116).",costGeneral:"The fee includes the price of the starter pack, which includes: a T-shirt with the Foundation's logo, a race number, and water.",shirtGenderMap:{Damska:"Female",Męska:"Male",Dziecięca:"Child"}}},se=k({name:h().min(2,"Minimum 2 characters").max(25,"Maximum 30 characters").required("Required field"),surname:h().min(2,"Minimum 2 characters").max(25,"Maximum 30 characters").required("Required field"),phone:h().matches(/^\+?(\d{1,3})[ ]?(\d{1,3})[ ]?(\d{1,3})[ ]?(\d{1,3})[ ]?(\d{1,3})$/,"Invalid phone number").required("Required field"),email:h().email("Invalid email format").required("Required field")}),re=["Damska","Męska","Dziecięca"],ie=n=>["Damska","Męska","Dziecięca"].find(r=>r===n),ae=()=>{const{language:n}=x(),{setIsLoading:o}=v(),r=te[n],{userData:l}=f(),g=r.shirtGenderMap,[p,c]=b.useState(!1),[u,z]=b.useState(!1);b.useEffect(()=>{const a=_=>{_.key==="Escape"&&c(!1)};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[]);const i=()=>{c(!0)},y=()=>{c(!1)},M=()=>{z(!u)},t=L({initialValues:{name:"",surname:"",phone:"",email:l?l.email:"",language:n,km:"0",shirt:"rozmiar 36 (S)",shirtGender:"Damska"},validationSchema:se,onSubmit:a=>{(async()=>{const d=a.shirtGender==="Dziecięca"?2e3:3e3;try{o(!0);const m=await N(d,a);m.status===201&&m.data?(window.open(m.data),console.log("Registration successful!")):console.error("Unexpected response status:",m.status)}catch(m){console.error(m)}finally{o(!1)}})(),t.resetForm()}});return p?e.jsx(T,{onClose:y}):e.jsx("section",{className:s.registration,children:e.jsx("div",{className:s.registration__background,children:e.jsxs("div",{className:s.registration__containerMain,children:[e.jsx(S,{}),e.jsx("div",{className:s.registration__container,children:e.jsxs("div",{className:s.registration__windows,children:[e.jsxs("form",{className:s.registration__form,onSubmit:t.handleSubmit,children:[e.jsx("div",{className:s.registration__titleContainer,children:e.jsx("p",{className:s.registration__sectionTitle,children:r.button})}),e.jsxs("label",{className:s.registration__label,htmlFor:"name",children:[r.name,e.jsx("input",{id:"name",className:`${s.registration__input} ${t.touched.name&&t.errors.name?s.error:""}`,type:"text",name:"name",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.name}),t.touched.name&&t.errors.name?e.jsx("div",{className:s.formikMessage,children:t.errors.name}):null]}),e.jsxs("label",{className:s.registration__label,htmlFor:"surname",children:[r.lastName,e.jsx("input",{id:"surname",className:`${s.registration__input} ${t.touched.surname&&t.errors.surname?s.error:""}`,type:"text",name:"surname",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.surname}),t.touched.surname&&t.errors.surname?e.jsx("div",{className:s.formikMessage,children:t.errors.surname}):null]}),e.jsxs("label",{className:s.registration__label,htmlFor:"phone",children:[r.number,e.jsx("input",{id:"phone",className:`${s.registration__input} ${t.touched.phone&&t.errors.phone?s.error:""}`,type:"text",name:"phone",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.phone}),t.touched.phone&&t.errors.phone?e.jsx("div",{className:s.formikMessage,children:t.errors.phone}):null]}),e.jsx("div",{className:s.registration__sizeList,children:e.jsx(P,{label:r.shirt,id:"shirt",name:"shirt",formik:t,shirtGender:t.values.shirtGender})}),e.jsx("div",{className:s.registration__radioList,children:re.map(a=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"shirtGender",value:a,checked:t.values.shirtGender===a,onChange:_=>{const d=ie(_.target.value);d?t.setFieldValue("shirtGender",d):console.warn("Invalid value for shirtGender")}}),g[a]]},a))}),e.jsxs("div",{className:s.buttonContainer,children:[e.jsx("p",{children:r.statementPayment}),e.jsx(w,{type:"submit",content:r.button,disabled:!t.isValid||!u})]})]}),e.jsx(R,{consent:u,handleIconClick:M,openModal:i}),e.jsxs("div",{className:s.registration__instructions,children:[e.jsx("p",{className:s.registration__instructionsText,children:r.instructionsCost}),e.jsxs("p",{className:s.registration__instructionsText,children:[e.jsx("span",{className:s.registration__instructionsTextHighlighted,children:r.cost1}),r.costAdult]}),e.jsxs("p",{className:s.registration__instructionsText,children:[e.jsx("span",{className:s.registration__instructionsTextHighlighted,children:r.cost2}),r.costChild]}),e.jsx("p",{className:s.registration__instructionsText,children:r.costGeneral})]})]})})]})})})},ne=ae;function ce(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx("title",{children:"Registration For Run"})}),e.jsx(ne,{})]})}export{ce as default};
